# π“΅ λ°±μ—”λ“ ν†µμ‹  λ° ν”„λ΅ν† μ½ μ™„μ „ μ •λ¦¬

> λ°±μ—”λ“ κ°λ°μκ°€ λ°λ“μ‹ μ•μ•„μ•Ό ν•  ν†µμ‹  μ›λ¦¬, ν”„λ΅ν† μ½, λ””μμΈ ν¨ν„΄μ„ ν• κ³³μ— μ •λ¦¬ν• λ¬Έμ„μ…λ‹λ‹¤.

---

## λ©μ°¨

1. [ν†µμ‹  κΈ°μ΄ κ°λ…](#1-ν†µμ‹ -κΈ°μ΄-κ°λ…)
2. [OSI λ¨λΈκ³Ό λ„¤νΈμ›ν¬ κ³„μΈµ](#2-osi-λ¨λΈκ³Ό-λ„¤νΈμ›ν¬-κ³„μΈµ)
3. [μΈν„°λ„· ν”„λ΅ν† μ½ (IP)](#3-μΈν„°λ„·-ν”„λ΅ν† μ½-ip)
4. [UDP (User Datagram Protocol)](#4-udp-user-datagram-protocol)
5. [TCP (Transmission Control Protocol)](#5-tcp-transmission-control-protocol)
6. [TLS / SSL](#6-tls--ssl)
7. [HTTP/1.1](#7-http11)
8. [HTTP/2](#8-http2)
9. [HTTP/3 (QUIC)](#9-http3-quic)
10. [WebSocket](#10-websocket)
11. [gRPC](#11-grpc)
12. [WebRTC](#12-webrtc)
13. [ν†µμ‹  λ””μμΈ ν¨ν„΄](#13-ν†µμ‹ -λ””μμΈ-ν¨ν„΄)
14. [λ°±μ—”λ“ μ‹¤ν–‰ ν¨ν„΄](#14-λ°±μ—”λ“-μ‹¤ν–‰-ν¨ν„΄)
15. [ν”„λ΅μ‹μ™€ λ΅λ“ λ°Έλ°μ„](#15-ν”„λ΅μ‹μ™€-λ΅λ“-λ°Έλ°μ„)
16. [μ •λ¦¬ & ν”„λ΅ν† μ½ λΉ„κµν‘](#16-μ •λ¦¬--ν”„λ΅ν† μ½-λΉ„κµν‘)
17. [ν•™μµ ν](#17-ν•™μµ-ν)
18. [μ¶”κ°€ ν•™μµ μλ£](#18-μ¶”κ°€-ν•™μµ-μλ£)

---

## 1. ν†µμ‹  κΈ°μ΄ κ°λ…

### ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¨λΈ

λ°±μ—”λ“ ν†µμ‹ μ κ°€μ¥ κΈ°λ³Έμ μΈ κµ¬μ΅°μ…λ‹λ‹¤.

```
[ν΄λΌμ΄μ–ΈνΈ] β”€β”€μ”μ²­(Request)β”€β”€β–¶ [μ„λ²„]
[ν΄λΌμ΄μ–ΈνΈ] β—€β”€β”€μ‘λ‹µ(Response)β”€β”€ [μ„λ²„]
```

- **ν΄λΌμ΄μ–ΈνΈ**: μ„λΉ„μ¤λ¥Ό μ”μ²­ν•λ” μ½ (λΈλΌμ°μ €, λ¨λ°”μΌ μ•±, λ‹¤λ¥Έ μ„λ²„ λ“±)
- **μ„λ²„**: μ”μ²­μ„ λ°›μ•„ μ²λ¦¬ν•κ³  μ‘λ‹µν•λ” μ½

### μ—°κ²°(Connection)μ΄λ€?

λ‘ ν”„λ΅μ„Έμ¤ μ‚¬μ΄μ— λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• **λ…Όλ¦¬μ  ν†µλ΅**μ…λ‹λ‹¤. λ¬Όλ¦¬μ μΈ μ „μ„ μ΄ μ•„λ‹λΌ μ†ν”„νΈμ›¨μ–΄μ μΌλ΅ λ§Ίμ–΄μ§„ μ•½μ†μ…λ‹λ‹¤.

- **μ—°κ²° μλ¦½**: μ„λ΅ "ν†µμ‹ ν•  μ¤€λΉ„κ°€ λμ–΄"λΌκ³  ν™•μΈν•λ” κ³Όμ •
- **μ—°κ²° μ μ§€**: λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” λ™μ• μ—°κ²° μƒνƒλ¥Ό μ μ§€
- **μ—°κ²° μΆ…λ£**: ν†µμ‹ μ΄ λλ‚¬μμ„ μ•λ¦¬κ³  μμ›μ„ ν•΄μ 

### ν¬νΈ(Port)

ν•λ‚μ μ»΄ν“¨ν„°μ—μ„ μ—¬λ¬ μ„λΉ„μ¤λ¥Ό λ™μ‹μ— λλ¦΄ μ μλ” μ΄μ λ” **ν¬νΈ λ²νΈ** λ•λ¶„μ…λ‹λ‹¤.

- IP μ£Όμ† = κ±΄λ¬Ό μ£Όμ†, ν¬νΈ = κ±΄λ¬Ό μ•μ νΈμ‹¤ λ²νΈ
- λ²”μ„: 0 ~ 65535
- μ μ•λ ¤μ§„ ν¬νΈ: HTTP(80), HTTPS(443), SSH(22), MySQL(3306), PostgreSQL(5432)

### ν”„λ΅ν† μ½ μ†μ„±

ν”„λ΅ν† μ½μ€ λ‘ λ‹Ήμ‚¬μκ°€ ν†µμ‹ ν•  μ μκ² ν•λ” μ‹μ¤ν…μΌλ΅, λ‹¤μκ³Ό κ°™μ€ μ†μ„±μ„ κ°€μ§‘λ‹λ‹¤:

- **λ°μ΄ν„° ν•μ‹**: ν…μ¤νΈ(JSON, XML) vs λ°”μ΄λ„λ¦¬(Protobuf, HTTP/2)
- **μ „μ†΅ λ¨λ“**: λ©”μ‹μ§€ κΈ°λ°(UDP, HTTP) vs μ¤νΈλ¦Ό κΈ°λ°(TCP)
- **λ°©ν–¥μ„±**: μ–‘λ°©ν–¥(TCP) vs λ‹¨λ°©ν–¥(HTTP)
- **μƒνƒ**: Stateful(TCP, gRPC) vs Stateless(UDP, HTTP)
- **νλ¦„ μ μ–΄ & νΌμ΅ μ μ–΄**: TCPλ” μ§€μ›, UDPλ” μ—†μ

---

## 2. OSI λ¨λΈκ³Ό λ„¤νΈμ›ν¬ κ³„μΈµ

λ„¤νΈμ›ν¬ ν†µμ‹ μ„ **7κ° κ³„μΈµ**μΌλ΅ λ‚λ μ„ μ΄ν•΄ν•λ” λ¨λΈμ…λ‹λ‹¤.

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  7κ³„μΈµ - μ‘μ© (Application)      β”‚  β† HTTP, WebSocket, gRPC, DNS
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  6κ³„μΈµ - ν‘ν„ (Presentation)     β”‚  β† μ•”νΈν™”, μ••μ¶•, μΈμ½”λ”©
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  5κ³„μΈµ - μ„Έμ… (Session)          β”‚  β† μ—°κ²° κ΄€λ¦¬, TLS
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  4κ³„μΈµ - μ „μ†΅ (Transport)        β”‚  β† TCP, UDP
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  3κ³„μΈµ - λ„¤νΈμ›ν¬ (Network)      β”‚  β† IP, λΌμ°ν…
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  2κ³„μΈµ - λ°μ΄ν„°λ§ν¬ (Data Link)  β”‚  β† MAC μ£Όμ†, μ΄λ”λ„·
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  1κ³„μΈµ - λ¬Όλ¦¬ (Physical)         β”‚  β† μ „κΈ° μ‹ νΈ, κ΄‘μΌ€μ΄λΈ”
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### λ°μ΄ν„° μΊ΅μν™”

λ°μ΄ν„°κ°€ μ „μ†΅λ  λ• κ° κ³„μΈµμ„ κ±°μΉλ©° "ν—¤λ”"κ°€ μ¶”κ°€λ©λ‹λ‹¤:

```
μ›λ³Έ λ°μ΄ν„°
  β†“  μ‘μ© κ³„μΈµ    β†’ [HTTP ν—¤λ” | λ°μ΄ν„°]
  β†“  μ „μ†΅ κ³„μΈµ    β†’ [TCP ν—¤λ” | HTTP ν—¤λ” | λ°μ΄ν„°]
  β†“  λ„¤νΈμ›ν¬ κ³„μΈµ β†’ [IP ν—¤λ” | TCP ν—¤λ” | HTTP ν—¤λ” | λ°μ΄ν„°]
  β†“  λ°μ΄ν„°λ§ν¬ κ³„μΈµ β†’ [ν”„λ μ„ ν—¤λ” | IP ν—¤λ” | TCP ν—¤λ” | HTTP ν—¤λ” | λ°μ΄ν„°]
```

μ΄κ²ƒμ„ **μΊ΅μν™”(Encapsulation)** λΌκ³  λ¶€λ¥΄λ©°, λ°›λ” μ½μ—μ„λ” λ°λ€λ΅ ν—¤λ”λ¥Ό ν•λ‚μ”© λ²—κΈ°λ©° λ°μ΄ν„°λ¥Ό μ½μµλ‹λ‹¤.

### OSI λ¨λΈ vs TCP/IP λ¨λΈ

| OSI (7κ³„μΈµ) | TCP/IP (4κ³„μΈµ) | μμ‹ |
|------------|---------------|------|
| Application (7) + Presentation (6) + Session (5) | Application | HTTP, gRPC, FTP |
| Transport (4) | Transport | TCP, UDP |
| Network (3) | Internet | IP |
| Data Link (2) + Physical (1) | Data Link | μ΄λ”λ„·, MAC |

**TCP/IP λ¨λΈμ μ¥μ **: OSIλ³΄λ‹¤ ν›¨μ”¬ λ‹¨μν•κ³  μ‹¤λ¬΄μ—μ„ λ” λ§μ΄ μ‚¬μ©λ©λ‹λ‹¤.

---

## 3. μΈν„°λ„· ν”„λ΅ν† μ½ (IP)

### IP μ£Όμ†

λ„¤νΈμ›ν¬μƒμ—μ„ μ¥μΉλ¥Ό μ‹λ³„ν•λ” μ£Όμ†μ…λ‹λ‹¤.

- **IPv4**: `192.168.0.1` ν•νƒ, μ•½ 43μ–µ κ° μ£Όμ† (λ¶€μ΅±ν•¨)
- **IPv6**: `2001:db8::1` ν•νƒ, μ‚¬μ‹¤μƒ λ¬΄ν•λ€

### IP ν¨ν‚· κµ¬μ΅°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                IP ν—¤λ”                    β”‚
β”‚  - μ¶λ°μ§€ IP (Source IP)                  β”‚
β”‚  - λ„μ°©μ§€ IP (Destination IP)             β”‚
β”‚  - TTL (Time to Live)                    β”‚
β”‚  - ν”„λ΅ν† μ½ (TCP/UDP λ“±)                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                λ°μ΄ν„° (Payload)            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### IPμ νΉμ§•

- **λΉ„μ—°κ²°ν•(Connectionless)**: ν¨ν‚· ν•λ‚ν•λ‚κ°€ λ…λ¦½μ μΌλ΅ κ²½λ΅λ¥Ό μ„ νƒ
- **λΉ„μ‹ λΆ°μ„±(Unreliable)**: ν¨ν‚·μ΄ λ„μ°©ν•λ”μ§€ λ³΄μ¥ν•μ§€ μ•μ
- **μμ„ λ³΄μ¥ μ—†μ**: ν¨ν‚·μ΄ λ³΄λ‚Έ μμ„λ€λ΅ λ„μ°©ν•μ§€ μ•μ„ μ μμ

> π’΅ "IPλ§μΌλ΅λ” μ‹ λΆ°ν•  μ μλ” ν†µμ‹ μ΄ μ• λ©λ‹λ‹¤. κ·Έλμ„ TCPκ°€ ν•„μ”ν•©λ‹λ‹¤."

---

## 4. UDP (User Datagram Protocol)

### UDPλ€?

**λΉ λ¥΄μ§€λ§ μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•μ§€ μ•λ”** Layer 4 μ „μ†΅ ν”„λ΅ν† μ½μ…λ‹λ‹¤.

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚       UDP ν—¤λ” (8λ°”μ΄νΈ)     β”‚
β”‚  - μ¶λ°μ§€ ν¬νΈ              β”‚
β”‚  - λ„μ°©μ§€ ν¬νΈ              β”‚
β”‚  - κΈΈμ΄                    β”‚
β”‚  - μ²΄ν¬μ„¬                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚          λ°μ΄ν„°             β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### UDPμ νΉμ§•

- **μ—°κ²° μλ¦½ κ³Όμ • μ—†μ**: λ°”λ΅ λ°μ΄ν„°λ¥Ό λ³΄λƒ„ (ν•Έλ“μ…°μ΄ν¬ μ—†μ)
- **μμ„ λ³΄μ¥ μ—†μ**: ν¨ν‚·μ΄ λ’¤μ„μ—¬ μ¬ μ μμ
- **μ¬μ „μ†΅ μ—†μ**: ν¨ν‚·μ΄ μ μ‹¤λμ–΄λ„ λ‹¤μ‹ λ³΄λ‚΄μ§€ μ•μ
- **λ¬΄μƒνƒ(Stateless)**: μ—°κ²° μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μ
- **λΉ λ¦„**: μ¤λ²„ν—¤λ“κ°€ μ μ–΄ λ‚®μ€ μ§€μ—° μ‹κ°„

### λ©€ν‹°ν”λ ‰μ‹± & μ—­λ‹¤μ¤‘ν™”

- **μ†΅μ‹ μ**: λ¨λ“  μ•±μ„ UDPλ΅ λ‹¤μ¤‘ν™”
- **μμ‹ μ**: UDP λ°μ΄ν„°κ·Έλ¨μ„ κ° μ•±μΌλ΅ μ—­λ‹¤μ¤‘ν™”
- UDPλ” **λ©€ν‹°μΊμ¤νΈ**λ„ μ§€μ› β€” ν•λ‚μ ν¨ν‚·μ„ μ—¬λ¬ μμ‹ μμ—κ² λ™μ‹μ— μ „μ†΅ κ°€λ¥

### μ‚¬μ© μ‚¬λ΅€

- μ‹¤μ‹κ°„ κ²μ„ (μ•½κ°„μ λ°μ΄ν„° μ μ‹¤ ν—μ©)
- μμƒ/μμ„± μ¤νΈλ¦¬λ° (μ§€μ—°μ΄ λ” ν° λ¬Έμ )
- DNS μ΅°ν (ν• λ²μ μ”μ²­/μ‘λ‹µμΌλ΅ λλ‚¨)
- VPN, WebRTC, IoT μ„Όμ„ λ°μ΄ν„°

### μ¥λ‹¨μ 

| μ¥μ  | λ‹¨μ  |
|------|------|
| μ‘μ€ ν—¤λ”(8λ°”μ΄νΈ), λ‚®μ€ μ¤λ²„ν—¤λ“ | μ „λ‹¬ λ³΄μ¥ μ—†μ |
| λ‚®μ€ μ§€μ—° μ‹κ°„ | μμ„ λ³΄μ¥ μ—†μ |
| λ¬΄μƒνƒ (λ©”λ¨λ¦¬ μ†λΉ„ μ μ) | νλ¦„/νΌμ΅ μ μ–΄ μ—†μ |
| λ©€ν‹°μΊμ¤νΈ μ§€μ› | λ³΄μ• μ·¨μ•½ (μ¤ν‘Έν•‘ κ°€λ¥) |

---

## 5. TCP (Transmission Control Protocol)

### TCPλ€?

**μ‹ λΆ°μ„± μλ” λ°μ΄ν„° μ „μ†΅μ„ λ³΄μ¥ν•λ”** Layer 4 ν”„λ΅ν† μ½μ…λ‹λ‹¤. μ¤νΈλ¦Ό κΈ°λ°μΌλ΅ λ™μ‘ν•λ©°, 20~60λ°”μ΄νΈ ν—¤λ”λ¥Ό κ°€μ§‘λ‹λ‹¤.

### 3-Way Handshake (μ—°κ²° μλ¦½)

```
ν΄λΌμ΄μ–ΈνΈ                        μ„λ²„
    β”‚                              β”‚
    β”‚β”€β”€β”€β”€ SYN (μ—°κ²° μ”μ²­) β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  β‘  "μ—°κ²°ν•κ³  μ‹¶μ–΄"
    β”‚β—€β”€β”€ SYN + ACK (μλ½+ν™•μΈ) β”€β”€β”€β”‚  β‘΅ "μΆ‹μ•„, λ‚λ„ μ¤€λΉ„λμ–΄"
    β”‚β”€β”€β”€β”€ ACK (ν™•μΈ) β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  β‘Ά "μ•κ² μ–΄, μ‹μ‘ν•μ!"
    β”‚                              β”‚
    β”‚      π”— μ—°κ²° μλ¦½ μ™„λ£        β”‚
```

> π’΅ **λΉ„μ **: μ „ν™” κ±ΈκΈ°μ™€ λΉ„μ·ν•©λ‹λ‹¤. "μ—¬λ³΄μ„Έμ”?" β†’ "λ„¤, λ§μ”€ν•μ„Έμ”" β†’ "λ„¤, μ•κ² μµλ‹λ‹¤"

TCP μ—°κ²°μ€ 4κ°€μ§€ μ†μ„±μΌλ΅ μ‹λ³„λ©λ‹λ‹¤: `SourceIP:SourcePort β†” DestinationIP:DestinationPort`

### TCP μ„Έκ·Έλ¨ΌνΈ κµ¬μ΅°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚            TCP ν—¤λ” (20~60λ°”μ΄νΈ)      β”‚
β”‚  - μ¶λ°μ§€ ν¬νΈ / λ„μ°©μ§€ ν¬νΈ           β”‚
β”‚  - μ‹ν€€μ¤ λ²νΈ (Sequence Number)      β”‚
β”‚  - ν™•μΈ λ²νΈ (Acknowledgment Number)  β”‚
β”‚  - μλ„μ° ν¬κΈ° (Window Size)          β”‚
β”‚  - ν”λκ·Έ (SYN, ACK, FIN λ“±)         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚               λ°μ΄ν„°                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### TCPμ ν•µμ‹¬ κΈ°λ¥λ“¤

#### β‘  μμ„ λ³΄μ¥ (Ordering)

κ° λ°”μ΄νΈμ— **μ‹ν€€μ¤ λ²νΈ**κ°€ λ¶€μ—¬λμ–΄ λ°›λ” μ½μ—μ„ μ¬λ°”λ¥Έ μμ„λ΅ μ¬μ΅°λ¦½ν•©λ‹λ‹¤.

```
λ³΄λ‚Έ μμ„: [ν¨ν‚·1] [ν¨ν‚·2] [ν¨ν‚·3]
λ„μ°© μμ„: [ν¨ν‚·2] [ν¨ν‚·1] [ν¨ν‚·3]  β† λ„¤νΈμ›ν¬μ—μ„ λ’¤μ„μ„
μ¬μ΅°λ¦½:    [ν¨ν‚·1] [ν¨ν‚·2] [ν¨ν‚·3]  β† TCPκ°€ μ‹ν€€μ¤ λ²νΈλ΅ μ •λ ¬
```

#### β‘΅ μ¬μ „μ†΅ (Retransmission)

ν¨ν‚·μ΄ μ μ‹¤λλ©΄ **μλ™μΌλ΅ λ‹¤μ‹ λ³΄λƒ…λ‹λ‹¤.**

```
ν΄λΌμ΄μ–ΈνΈ                    μ„λ²„
    β”‚β”€β”€ ν¨ν‚·1 β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚   β… μμ‹ 
    β”‚β”€β”€ ν¨ν‚·2 β”€β”€β”€β”€β”€ β– β”€β”€β”€β”‚   β μ μ‹¤!
    β”‚β”€β”€ ν¨ν‚·3 β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚   β… μμ‹ 
    β”‚   (νƒ€μ„μ•„μ›ƒ λ°μƒ)       β”‚
    β”‚β”€β”€ ν¨ν‚·2 (μ¬μ „μ†΅) β”€β”€β”€β–¶β”‚   β… μ¬μμ‹ 
```

#### β‘Ά νλ¦„ μ μ–΄ (Flow Control)

μμ‹ μκ°€ μ²λ¦¬ν•  μ μλ” μ†λ„μ— λ§μ¶° μ „μ†΅λ‰μ„ μ΅°μ ν•©λ‹λ‹¤.

- **μλ„μ° ν¬κΈ°(Window Size)**: "λ‚λ” μ΄λ§νΌ λ°›μ„ μ μμ–΄"λΌκ³  μ•λ ¤μ£Όλ” κ°’
- μμ‹ μμ λ²„νΌκ°€ κ°€λ“ μ°¨λ©΄ μλ„μ° ν¬κΈ°λ¥Ό 0μΌλ΅ λ³΄λ‚΄μ„ "μ κΉ λ©μ¶°!"λΌκ³  μ•λ¦Ό

#### β‘£ νΌμ΅ μ μ–΄ (Congestion Control)

λ„¤νΈμ›ν¬κ°€ νΌμ΅ν•  λ• μ „μ†΅ μ†λ„λ¥Ό μ¤„μ—¬ λ„¤νΈμ›ν¬ λ¶•κ΄΄λ¥Ό λ°©μ§€ν•©λ‹λ‹¤.

- **μ¬λ΅μ° μ¤νƒ€νΈ(Slow Start)**: μ²μμ— μ²μ²ν μ‹μ‘ν•΄μ„ μ μ  μ†λ„λ¥Ό μ¬λ¦Ό
- **νΌμ΅ νν”Ό(Congestion Avoidance)**: μΌμ • μμ¤€ μ΄ν›„ μ²μ²ν μ¦κ°€
- **ν¨ν‚· μ μ‹¤ κ°μ§€ μ‹**: μ „μ†΅ μ†λ„λ¥Ό κΈ‰κ²©ν μ¤„μ„

### 4-Way Handshake (μ—°κ²° μΆ…λ£)

```
ν΄λΌμ΄μ–ΈνΈ                        μ„λ²„
    β”‚β”€β”€β”€β”€ FIN (μΆ…λ£ μ”μ²­) β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  β‘  "λλ‚Όκ²"
    β”‚β—€β”€β”€ ACK (ν™•μΈ) β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚  β‘΅ "μ•κ² μ–΄"
    β”‚β—€β”€β”€ FIN (μΆ…λ£ μ”μ²­) β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚  β‘Ά "λ‚λ„ λλ‚Όκ²"
    β”‚β”€β”€β”€β”€ ACK (ν™•μΈ) β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  β‘£ "μ•κ² μ–΄"
    β”‚      π”“ μ—°κ²° μΆ…λ£ μ™„λ£         β”‚
```

### TCPμ λ‹¨μ 

- **μ—°κ²° μλ¦½ μ¤λ²„ν—¤λ“**: λ§¤ μ—°κ²°λ§λ‹¤ 3-Way Handshake ν•„μ”
- **Head-of-Line Blocking**: μ•μ ν¨ν‚·μ΄ μ μ‹¤λλ©΄ λ’¤μ ν¨ν‚·λ„ λ€κΈ°
- **λλ¦° μ‹μ‘**: μ—°κ²° μ΄κΈ°μ—λ” μ†λ„κ°€ λλ¦Ό
- **TCP Meltdown**: VPNμ— μ ν•©ν•μ§€ μ•μ (TCP over TCP λ¬Έμ )

---

## 6. TLS / SSL

### TLS(Transport Layer Security)λ€?

TCP μ„μ—μ„ λ™μ‘ν•λ©° **λ°μ΄ν„°λ¥Ό μ•”νΈν™”**ν•μ—¬ μ•μ „ν• ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•©λ‹λ‹¤. HTTPS = HTTP + TLSμ…λ‹λ‹¤.

### TLSκ°€ λ³΄νΈν•λ” κ²ƒ

- **κΈ°λ°€μ„±(Confidentiality)**: λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ λ„μ²­ λ°©μ§€
- **λ¬΄κ²°μ„±(Integrity)**: λ°μ΄ν„°κ°€ μ¤‘κ°„μ— λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥
- **μΈμ¦(Authentication)**: ν†µμ‹  μƒλ€κ°€ μ§„μ§ κ·Έ μ„λ²„μΈμ§€ ν™•μΈ (μΈμ¦μ„)

### TLS 1.2 ν•Έλ“μ…°μ΄ν¬

```
ν΄λΌμ΄μ–ΈνΈ                              μ„λ²„
    β”‚β”€β”€ ClientHello β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  μ§€μ›ν•λ” μ•”νΈν™” λ°©μ‹ λ©λ΅ μ „μ†΅
    β”‚β—€β”€β”€ ServerHello β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚  μ•”νΈν™” λ°©μ‹ μ„ νƒ + μΈμ¦μ„ μ „μ†΅
    β”‚   [μΈμ¦μ„ κ²€μ¦]                      β”‚
    β”‚β”€β”€ Key Exchange β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  Diffie-Hellman ν‚¤ κµν™
    β”‚β—€β”€β”€ Finished β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚
    β”‚β”€β”€ Finished β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚
    β”‚      π” μ•”νΈν™”λ ν†µμ‹  μ‹μ‘            β”‚
```

### TLS 1.3μ κ°μ„ μ 

- ν•Έλ“μ…°μ΄ν¬κ°€ **1-RTT(1 μ™•λ³µ)**μΌλ΅ λ‹¨μ¶• (TLS 1.2λ” 2-RTT)
- λ¶μ•μ „ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ κ±°
- **0-RTT**: μ΄μ „μ— μ—°κ²°ν–λ μ„λ²„μ—λ” ν•Έλ“μ…°μ΄ν¬ μ—†μ΄ λ°”λ΅ λ°μ΄ν„° μ „μ†΅ κ°€λ¥

```
TLS 1.2:  TCP ν•Έλ“μ…°μ΄ν¬(1-RTT) + TLS ν•Έλ“μ…°μ΄ν¬(2-RTT) = 3-RTT
TLS 1.3:  TCP ν•Έλ“μ…°μ΄ν¬(1-RTT) + TLS ν•Έλ“μ…°μ΄ν¬(1-RTT) = 2-RTT
```

---

## 7. HTTP/1.1

### HTTPλ€?

**HyperText Transfer Protocol** β€” μ›Ήμ—μ„ κ°€μ¥ λ„λ¦¬ μ“°μ΄λ” μ‘μ© κ³„μΈµ ν”„λ΅ν† μ½μ…λ‹λ‹¤.

### μ”μ²­(Request) κµ¬μ΅°

```
GET /api/users HTTP/1.1          β† μ”μ²­ λΌμΈ (λ©”μ„λ“ / κ²½λ΅ / λ²„μ „)
Host: example.com                 β† ν—¤λ”
Content-Type: application/json
Authorization: Bearer abc123

{"name": "ν™κΈΈλ™"}                β† λ³Έλ¬Έ (Body)
```

### μ‘λ‹µ(Response) κµ¬μ΅°

```
HTTP/1.1 200 OK                   β† μƒνƒ λΌμΈ (λ²„μ „ / μƒνƒμ½”λ“ / λ©”μ‹μ§€)
Content-Type: application/json
Content-Length: 27

{"id": 1, "name": "ν™κΈΈλ™"}       β† λ³Έλ¬Έ
```

### μ£Όμ” HTTP λ©”μ„λ“

| λ©”μ„λ“ | μ©λ„ | νΉμ§• |
|--------|------|------|
| GET | λ¦¬μ†μ¤ μ΅°ν | λ³Έλ¬Έ μ—†μ, μΊμ‹ κ°€λ¥, λ©±λ“± |
| POST | λ¦¬μ†μ¤ μƒμ„± | λ³Έλ¬Έ μμ, λ©±λ“±μ„± μ—†μ |
| PUT | λ¦¬μ†μ¤ μ „μ²΄ κµμ²΄ | λ³Έλ¬Έ μμ, λ©±λ“±μ„± μμ |
| PATCH | λ¦¬μ†μ¤ λ¶€λ¶„ μμ • | λ³Έλ¬Έ μμ |
| DELETE | λ¦¬μ†μ¤ μ‚­μ  | λ©±λ“±μ„± μμ |

> π’΅ **λ©±λ“±μ„±(Idempotent)**: κ°™μ€ μ”μ²­μ„ μ—¬λ¬ λ² λ³΄λ‚΄λ„ κ²°κ³Όκ°€ κ°™λ‹¤λ” λ».

### μ£Όμ” μƒνƒ μ½”λ“

| μ½”λ“ | μλ―Έ | μ„¤λ… |
|------|------|------|
| 200 | OK | μ„±κ³µ |
| 201 | Created | λ¦¬μ†μ¤ μƒμ„±λ¨ |
| 301 | Moved Permanently | μκµ¬ μ΄λ™ |
| 304 | Not Modified | μΊμ‹λ λ²„μ „ μ‚¬μ© |
| 400 | Bad Request | μλ»λ μ”μ²­ |
| 401 | Unauthorized | μΈμ¦ ν•„μ” |
| 403 | Forbidden | κ¶ν• μ—†μ |
| 404 | Not Found | λ¦¬μ†μ¤ μ—†μ |
| 500 | Internal Server Error | μ„λ²„ μ¤λ¥ |
| 502 | Bad Gateway | κ²μ΄νΈμ›¨μ΄ μ¤λ¥ |
| 503 | Service Unavailable | μ„λΉ„μ¤ λ¶κ°€ |

### HTTP/1.1μ ν•µμ‹¬ κΈ°λ¥

#### Keep-Alive (μ§€μ† μ—°κ²°)

```
HTTP/1.0:  μ—°κ²° β†’ μ”μ²­ β†’ μ‘λ‹µ β†’ μΆ…λ£ β†’ μ—°κ²° β†’ μ”μ²­ β†’ μ‘λ‹µ β†’ μΆ…λ£ (λΉ„ν¨μ¨!)
HTTP/1.1:  μ—°κ²° β†’ μ”μ²­ β†’ μ‘λ‹µ β†’ μ”μ²­ β†’ μ‘λ‹µ β†’ μ”μ²­ β†’ μ‘λ‹µ β†’ μΆ…λ£ (ν¨μ¨μ !)
```

#### Pipelining (νμ΄ν”„λΌμ΄λ‹)

μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬μ§€ μ•κ³  μ—¬λ¬ μ”μ²­μ„ ν• λ²μ— λ³΄λ‚Ό μ μμ§€λ§, **μ‘λ‹µμ€ μ”μ²­ μμ„λ€λ΅** μ™€μ•Ό ν•©λ‹λ‹¤.

#### Head-of-Line Blocking λ¬Έμ 

```
μ”μ²­1 (μ΄λ―Έμ§€, 5μ΄) β†’ μ”μ²­2 (CSS, 0.1μ΄) β†’ μ”μ²­3 (JS, 0.2μ΄)

μ‘λ‹µ1 (5μ΄ λ€κΈ° μ¤‘...)
μ‘λ‹µ2 (μ‘λ‹µ1μ΄ λλ‚  λ•κΉμ§€ λ€κΈ°)  β† π« μ΄λ―Έ μ¤€λΉ„λλ”λ° κΈ°λ‹¤λ ¤μ•Ό ν•¨
μ‘λ‹µ3 (μ‘λ‹µ2κ°€ λλ‚  λ•κΉμ§€ λ€κΈ°)
```

λΈλΌμ°μ €λ” λ³΄ν†µ ν•λ‚μ λ„λ©”μΈμ— **6κ°μ TCP μ—°κ²°**μ„ λ™μ‹μ— μ—΄μ–΄ λ³‘λ ¬ μ”μ²­μΌλ΅ μ΄λ¥Ό μ°νν•©λ‹λ‹¤.

---

## 8. HTTP/2

### HTTP/2κ°€ ν•΄κ²°ν•λ ¤λ” λ¬Έμ 

HTTP/1.1μ **Head-of-Line Blocking**κ³Ό **λΉ„ν¨μ¨μ μΈ ν—¤λ” μ „μ†΅** λ¬Έμ λ¥Ό ν•΄κ²°ν•©λ‹λ‹¤.

### ν•µμ‹¬ κΈ°λ¥

#### β‘  λ©€ν‹°ν”λ ‰μ‹± (Multiplexing)

**ν•λ‚μ TCP μ—°κ²°μ—μ„ μ—¬λ¬ μ”μ²­/μ‘λ‹µμ„ λ™μ‹μ—** μ£Όκ³ λ°›μµλ‹λ‹¤.

```
HTTP/1.1 (6κ° μ—°κ²° ν•„μ”):
  μ—°κ²°1: μ”μ²­A β†’ μ‘λ‹µA
  μ—°κ²°2: μ”μ²­B β†’ μ‘λ‹µB

HTTP/2 (1κ° μ—°κ²°λ΅ μ¶©λ¶„):
  μ—°κ²°1: [μ”μ²­A] [μ”μ²­B] [μ”μ²­C] β†’ [μ‘λ‹µB] [μ‘λ‹µA] [μ‘λ‹µC]
         β””β”€β”€ ν•λ‚μ TCP μ—°κ²°μ—μ„ λ™μ‹ μ²λ¦¬ β”€β”€β”
```

#### β‘΅ μ¤νΈλ¦Ό (Stream)

κ° μ”μ²­/μ‘λ‹µ μμ΄ λ…λ¦½μ μΈ **μ¤νΈλ¦Ό** μ±„λ„λ΅ κ΄€λ¦¬λ©λ‹λ‹¤.

```
ν•λ‚μ TCP μ—°κ²° μ•:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  μ¤νΈλ¦Ό 1: GET /index.html           β”‚
β”‚  μ¤νΈλ¦Ό 3: GET /style.css            β”‚
β”‚  μ¤νΈλ¦Ό 5: GET /app.js               β”‚
β”‚  (μ¤νΈλ¦Ό λ²νΈλ” ν™€μ = ν΄λΌμ΄μ–ΈνΈ μ‹μ‘)    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### β‘Ά ν—¤λ” μ••μ¶• (HPACK)

μμ£Ό μ“°λ” ν—¤λ”λ” μΈλ±μ¤ λ²νΈλ΅ λ€μ²΄ν•κ³ , μ΄μ „μ— λ³΄λ‚Έ ν—¤λ”μ™€ μ°¨μ΄μ λ§ μ „μ†΅ν•©λ‹λ‹¤.

#### β‘£ μ„λ²„ ν‘Έμ‹ (Server Push)

ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•κΈ° μ „μ— μ„λ²„κ°€ ν•„μ”ν• λ¦¬μ†μ¤λ¥Ό λ―Έλ¦¬ λ³΄λ‚΄μ¤λ‹λ‹¤.

```
ν΄λΌμ΄μ–ΈνΈ: "index.html μ¤"
μ„λ²„: "μ—¬κΈ° index.htmlμ΄μ•Ό, κ·Έλ¦¬κ³  style.cssλ‘ app.jsλ„ κ°™μ΄ λ³΄λ‚Όκ²"
```

#### β‘¤ λ°”μ΄λ„λ¦¬ ν”„λ μ΄λ° (Binary Framing)

HTTP/1.1μ€ ν…μ¤νΈ κΈ°λ°μ΄μ—μ§€λ§, HTTP/2λ” **λ°”μ΄λ„λ¦¬ ν”„λ μ„**μΌλ΅ νμ‹±μ΄ λ” λΉ λ¥΄κ³  ν¨μ¨μ μ…λ‹λ‹¤.

### HTTP/2μ ν•κ³„

**TCP μμ¤€μ Head-of-Line Blockingμ€ μ—¬μ „ν μ΅΄μ¬ν•©λ‹λ‹¤.** TCPμ—μ„ ν¨ν‚· ν•λ‚κ°€ μ μ‹¤λλ©΄, κ·Έ ν¨ν‚·μ΄ μ¬μ „μ†΅λ  λ•κΉμ§€ λ¨λ“  μ¤νΈλ¦Όμ΄ λ§‰ν™λ‹λ‹¤.

```
HTTP/2 λ λ²¨: μ¤νΈλ¦Ό1, μ¤νΈλ¦Ό2, μ¤νΈλ¦Ό3 (λ…λ¦½μ !)
  β†“
TCP λ λ²¨: [ν¨ν‚·1] [ν¨ν‚·2 μ μ‹¤!] [ν¨ν‚·3]
          β†’ ν¨ν‚·2κ°€ λ³µκµ¬λ  λ•κΉμ§€ ν¨ν‚·3λ„ λ€κΈ° π«
```

> π’΅ "HTTP/2λ” HTTP μμ¤€μ HOL Blockingμ€ ν•΄κ²°ν–μ§€λ§, TCP μμ¤€μ HOL Blockingμ€ ν•΄κ²° λ»ν–μµλ‹λ‹¤. μ΄κ²ƒμ΄ HTTP/3κ°€ λ‚μ¨ μ΄μ μ…λ‹λ‹¤."

---

## 9. HTTP/3 (QUIC)

### HTTP/3λ€?

TCP λ€μ‹  **QUIC** ν”„λ΅ν† μ½(UDP κΈ°λ°)μ„ μ‚¬μ©ν•λ” HTTPμ μµμ‹  λ²„μ „μ…λ‹λ‹¤.

```
κΈ°μ΅΄:    HTTP/2 β†’ TLS 1.2 β†’ TCP β†’ IP
HTTP/3:  HTTP/3 β†’ QUIC (TLS 1.3 λ‚΄μ¥) β†’ UDP β†’ IP
```

### QUIC ν”„λ΅ν† μ½μ νΉμ§•

#### β‘  μ—°κ²° μλ¦½μ΄ λΉ λ¦„

```
TCP + TLS 1.3:  1-RTT(TCP) + 1-RTT(TLS) = 2-RTT
QUIC:           1-RTT (μ—°κ²° + μ•”νΈν™” λ™μ‹!)
QUIC μ¬μ—°κ²°:    0-RTT (μ΄μ „μ— μ—°κ²°ν• μ  μλ‹¤λ©΄!)
```

#### β‘΅ TCP HOL Blocking ν•΄κ²°

QUICμ μ¤νΈλ¦Όμ€ **μ™„μ „ν λ…λ¦½μ **μ…λ‹λ‹¤. ν•λ‚μ μ¤νΈλ¦Όμ—μ„ ν¨ν‚·μ΄ μ μ‹¤λμ–΄λ„ λ‹¤λ¥Έ μ¤νΈλ¦Όμ— μν–¥μ„ μ£Όμ§€ μ•μµλ‹λ‹¤.

```
QUIC:
  μ¤νΈλ¦Ό1: [ν¨ν‚· μ μ‹¤!] β†’ μ¤νΈλ¦Ό1λ§ μ¬μ „μ†΅ λ€κΈ°
  μ¤νΈλ¦Ό2: [μ •μƒ μμ‹ ] β†’ λ°”λ΅ μ²λ¦¬ β…
  μ¤νΈλ¦Ό3: [μ •μƒ μμ‹ ] β†’ λ°”λ΅ μ²λ¦¬ β…
```

#### β‘Ά μ—°κ²° λ§μ΄κ·Έλ μ΄μ… (Connection Migration)

TCPλ” IP + ν¬νΈλ΅ μ—°κ²°μ„ μ‹λ³„ν•μ§€λ§, QUICμ€ **μ—°κ²° ID**λ΅ μ‹λ³„ν•©λ‹λ‹¤. IP μ£Όμ†κ°€ λ°”λ€μ–΄λ„ μ—°κ²°μ΄ μ μ§€λ©λ‹λ‹¤.

```
μ‹λ‚λ¦¬μ¤: Wi-Fiμ—μ„ LTEλ΅ μ „ν™
TCP:  μ—°κ²° λκΉ€ β†’ μƒ TCP ν•Έλ“μ…°μ΄ν¬ β†’ μƒ TLS ν•Έλ“μ…°μ΄ν¬ π«
QUIC: μ—°κ²° IDκ°€ κ°™μΌλ―€λ΅ λκΉ€ μ—†μ΄ κ³„μ† ν†µμ‹  β…
```

---

## 10. WebSocket

### WebSocketμ΄λ€?

HTTPμ μ”μ²­-μ‘λ‹µ λ¨λΈκ³Ό λ‹¬λ¦¬, **ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ–‘λ°©ν–¥μΌλ΅ μμ λ΅­κ² λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μ„ μ μλ”** ν”„λ΅ν† μ½μ…λ‹λ‹¤.

```
HTTP:
  ν΄λΌμ΄μ–ΈνΈ β†’ "λ°μ΄ν„° μ¤" β†’ μ„λ²„
  ν΄λΌμ΄μ–ΈνΈ β† "μ—¬κΈ° μμ–΄" β† μ„λ²„
  (λ§¤λ² ν΄λΌμ΄μ–ΈνΈκ°€ λ¨Όμ € μ”μ²­ν•΄μ•Ό ν•¨)

WebSocket:
  ν΄λΌμ΄μ–ΈνΈ β†” μ„λ²„
  (μ•„λ¬΄ λ•λ‚ μ–‘μ½ λ‹¤ λ©”μ‹μ§€λ¥Ό λ³΄λ‚Ό μ μμ)
```

### WebSocket μ—°κ²° κ³Όμ •

HTTP μ—…κ·Έλ μ΄λ“ μ”μ²­μΌλ΅ μ‹μ‘ν•©λ‹λ‹¤.

```
β‘  ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ (HTTP μ”μ²­)
   GET /chat HTTP/1.1
   Upgrade: websocket
   Connection: Upgrade

β‘΅ μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ (HTTP μ‘λ‹µ)
   HTTP/1.1 101 Switching Protocols
   Upgrade: websocket

β‘Ά μ΄ν›„λ¶€ν„°λ” WebSocket ν”„λ μ„μΌλ΅ μ–‘λ°©ν–¥ ν†µμ‹ 
```

### μ‚¬μ© μ‚¬λ΅€ λ° μ£Όμμ 

**μ‚¬μ© μ‚¬λ΅€**: μ‹¤μ‹κ°„ μ±„ν…, μ£Όμ‹ μ‹μ„Έ, λ©€ν‹°ν”λ μ΄μ–΄ κ²μ„, Google Docs λ™μ‹ νΈμ§‘

**μ£Όμμ :**
- **μ—°κ²°μ„ κ³„μ† μ μ§€**ν•΄μ•Ό ν•λ―€λ΅ μ„λ²„ λ¦¬μ†μ¤λ¥Ό λ§μ΄ μ‚¬μ©
- **μν‰ ν™•μ¥μ΄ μ–΄λ ¤μ›€**: κ°™μ€ μ‚¬μ©μμ μ—°κ²°μ΄ κ°™μ€ μ„λ²„λ΅ κ°€μ•Ό ν•¨ (Sticky Session)
- **μ¬μ—°κ²° λ΅μ§** ν•„μ”: λ„¤νΈμ›ν¬ λκΉ€μ— λ€λΉ„ν• ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ¬μ—°κ²° κµ¬ν„

---

## 11. gRPC

### gRPCλ€?

Googleμ΄ λ§λ“  κ³ μ„±λ¥ **RPC(Remote Procedure Call)** ν”„λ μ„μ›ν¬μ…λ‹λ‹¤. HTTP/2 μ„μ—μ„ λ™μ‘ν•λ©°, Protocol Buffers(Protobuf)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

### REST vs gRPC

```
REST:
  - JSON (ν…μ¤νΈ, μ‚¬λμ΄ μ½κΈ° μ‰¬μ›€)
  - HTTP/1.1 λλ” HTTP/2
  - URL κΈ°λ° λ¦¬μ†μ¤ μ ‘κ·Ό: GET /api/users/1

gRPC:
  - Protobuf (λ°”μ΄λ„λ¦¬, λ” μ‘κ³  λΉ λ¦„)
  - HTTP/2 ν•„μ
  - ν•¨μ νΈμ¶μ²λΌ μ‚¬μ©: userService.GetUser(id=1)
```

### Protocol Buffers (Protobuf) μμ‹

```protobuf
// user.proto (μ¤ν‚¤λ§ μ •μ)
syntax = "proto3";

service UserService {
  rpc GetUser (GetUserRequest) returns (User);
  rpc ListUsers (ListUsersRequest) returns (stream User);
}

message User {
  int32 id = 1;
  string name = 2;
  string email = 3;
}
```

### gRPCμ 4κ°€μ§€ ν†µμ‹  ν¨ν„΄

```
β‘  Unary (λ‹¨μΌ μ”μ²­-μ‘λ‹µ)
   ν΄λΌμ΄μ–ΈνΈ β”€μ”μ²­β”€β–¶ μ„λ²„
   ν΄λΌμ΄μ–ΈνΈ β—€β”€μ‘λ‹µβ”€β”€ μ„λ²„

β‘΅ Server Streaming (μ„λ²„ μ¤νΈλ¦¬λ°)
   ν΄λΌμ΄μ–ΈνΈ β”€μ”μ²­β”€β–¶ μ„λ²„
   ν΄λΌμ΄μ–ΈνΈ β—€β”€μ‘λ‹µ1, μ‘λ‹µ2, μ‘λ‹µ3β”€ μ„λ²„

β‘Ά Client Streaming (ν΄λΌμ΄μ–ΈνΈ μ¤νΈλ¦¬λ°)
   ν΄λΌμ΄μ–ΈνΈ β”€μ”μ²­1, μ”μ²­2, μ”μ²­3β”€β–¶ μ„λ²„
   ν΄λΌμ΄μ–ΈνΈ β—€β”€μ‘λ‹µβ”€β”€ μ„λ²„

β‘£ Bidirectional Streaming (μ–‘λ°©ν–¥ μ¤νΈλ¦¬λ°)
   ν΄λΌμ΄μ–ΈνΈ β†” μ„λ²„ (μ–‘μ½μ—μ„ λ™μ‹μ— μ¤νΈλ¦¬λ°)
```

### gRPCμ μ¥λ‹¨μ 

| μ¥μ  | λ‹¨μ  |
|------|------|
| λΉ λ¥Έ μ§λ ¬ν™”/μ—­μ§λ ¬ν™” | λΈλΌμ°μ €μ—μ„ μ§μ ‘ μ‚¬μ© μ–΄λ ¤μ›€ (gRPC-Web ν•„μ”) |
| μ‘μ€ λ°μ΄ν„° ν¬κΈ° | λ””λ²„κΉ…μ΄ μ–΄λ ¤μ›€ (λ°”μ΄λ„λ¦¬) |
| κ°•νƒ€μ… & μ½”λ“ μλ™ μƒμ„± | ν•™μµ κ³΅μ„  |
| λ‹¤μ–‘ν• μ–Έμ–΄ μ§€μ› | - |

---

## 12. WebRTC

### WebRTCλ€?

Web Real-Time Communication β€” λΈλΌμ°μ € κ°„ λλ” μ•± κ°„μ **P2P μ‹¤μ‹κ°„ ν†µμ‹ **μ„ μ§€μ›ν•λ” κΈ°μ μ…λ‹λ‹¤.

### κµ¬μ„± μ”μ†

- **NAT**: Network Address Translation
- **STUN**: Session Traversal Utilities for NAT β€” NAT λ’¤μ κ³µκ° IP μ£Όμ†/ν¬νΈ ν™•μΈ
- **TURN**: Traversal Using Relays around NAT β€” Symmetric NAT ν™κ²½μ—μ„ ν¨ν‚· μ¤‘κ³„
- **ICE**: Interactive Connectivity Establishment β€” μµμ μ μ—°κ²° κ²½λ΅ νƒμƒ‰
- **SDP**: Session Description Protocol β€” λ―Έλ””μ–΄ ν•μ‹ ν‘μƒ

### NAT μ ν•

| NAT μ ν• | νΉμ§• |
|---------|------|
| Full Cone NAT | κ°€μ¥ κ°λ°©μ , STUNμΌλ΅ μ²λ¦¬ κ°€λ¥ |
| Address Restricted NAT | ν†µμ‹ ν• μ£Όμ†λ§ ν—μ©, STUNμΌλ΅ μ²λ¦¬ κ°€λ¥ |
| Port Restricted NAT | ν†µμ‹ ν• μ£Όμ†:ν¬νΈλ§ ν—μ©, STUNμΌλ΅ μ²λ¦¬ κ°€λ¥ |
| Symmetric NAT | κ°€μ¥ μ ν•μ , TURN μ„λ²„ ν•„μ” |

### WebRTC μ—°κ²° κ³Όμ • (Signaling)

```
1. Aκ°€ Bμ— μ—°κ²°ν•λ ¤ ν•¨
2. Aκ°€ Offer μƒμ„± (SDP)
3. Aκ°€ Bμ—κ² Offer μ „μ†΅ (Signaling μ„λ²„ κ²½μ )
4. Bκ°€ Answer μƒμ„±
5. Bκ°€ Aμ—κ² Answer μ „μ†΅
6. ICE Candidate κµν™ β†’ μµμ  κ²½λ΅ κ²°μ •
7. λ°μ΄ν„° μ±„λ„λ΅ P2P ν†µμ‹  μ‹μ‘
```

### μ¥λ‹¨μ 

| μ¥μ  | λ‹¨μ  |
|------|------|
| P2P μ—°κ²°λ΅ λ‚®μ€ μ§€μ—° μ‹κ°„ | STUN & TURN μ„λ²„ μ μ§€ ν•„μ” |
| ν‘μ¤€ν™”λ λΈλΌμ°μ € API | λ‹¤μμ μ°Έκ°€μμ—κ²λ” P2Pκ°€ λΉ„ν¨μ¨μ  (SFU/MCU ν•„μ”) |
| λ‚΄μ¥ μ•”νΈν™” (DTLS, SRTP) | Symmetric NAT ν™κ²½μ—μ„ λ³µμ΅ν•΄μ§ |

---

## 13. ν†µμ‹  λ””μμΈ ν¨ν„΄

λ°±μ—”λ“μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” λ‹¤μ–‘ν• λ°©μ‹μ…λ‹λ‹¤.

### β‘  μ”μ²­-μ‘λ‹µ (Request-Response)

κ°€μ¥ κΈ°λ³Έμ μΈ ν¨ν„΄μ…λ‹λ‹¤. HTTP, DNS, SSH, RPC, λ°μ΄ν„°λ² μ΄μ¤ ν”„λ΅ν† μ½ λ“±μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.

```
ν΄λΌμ΄μ–ΈνΈ β”€μ”μ²­ μ „μ†΅β”€β–¶ μ„λ²„
μ„λ²„ β”€μ‘λ‹µ μ „μ†΅β”€β–¶ ν΄λΌμ΄μ–ΈνΈ
```

**μ¥μ **: κ°„λ‹¨ν•κ³  λ…ν™•ν• κµ¬μ΅°, ν™•μ¥μ„± μ°μ
**λ‹¨μ **: μ—¬λ¬ μμ‹ μμ—κ² λ™μ‹ μ „μ†΅ μ–΄λ ¤μ›€, λ†’μ€ κ²°ν•©λ„

### β‘΅ λ™κΈ° vs λΉ„λ™κΈ° (Synchronous vs Asynchronous)

**λ™κΈ° I/O**: μ”μ²­μ„ λ³΄λ‚Έ ν›„ μ‘λ‹µμ΄ μ¬ λ•κΉμ§€ λ€κΈ° (λΈ”λ΅ν‚Ή)

**λΉ„λ™κΈ° I/O**: μ”μ²­μ„ λ³΄λ‚Έ ν›„ μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬μ§€ μ•κ³  λ‹¤λ¥Έ μ‘μ—… μν–‰
- μ£ΌκΈ°μ μΌλ΅ μ‘λ‹µμ΄ μ¤€λΉ„λμ—λ”μ§€ ν™•μΈ (epoll)
- μ‘λ‹µμ΄ μ¤€λΉ„λλ©΄ μ½λ°± ν•¨μ νΈμ¶ (io_uring)

> **λΉ„μ **: λ™κΈ° = νμμ—μ„ μ§λ¬Έν•κ³  λ‹µμ„ κΈ°λ‹¤λ¦Ό / λΉ„λ™κΈ° = μ΄λ©”μΌμ„ λ³΄λ‚΄κ³  λ‹¤λ¥Έ μΌμ„ ν•λ‹¤κ°€ λ‚μ¤‘μ— ν™•μΈ

### β‘Ά Push (ν‘Έμ‹)

μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°μ΄ν„°λ¥Ό **λ¥λ™μ μΌλ΅ μ „μ†΅**ν•©λ‹λ‹¤.

```
μ„λ²„ β”€μƒ μ•λ¦Ό μ „μ†΅β”€β–¶ ν΄λΌμ΄μ–ΈνΈ (ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•μ§€ μ•μ•„λ„)
```

**μ¥μ **: μ‹¤μ‹κ°„ λ°μ΄ν„° μ „μ†΅
**λ‹¨μ **: ν΄λΌμ΄μ–ΈνΈκ°€ ν•­μƒ μ¨λΌμΈ μƒνƒμ—¬μ•Ό ν•¨, μ–‘λ°©ν–¥ ν”„λ΅ν† μ½ ν•„μ”
**μ‚¬μ© μμ‹**: μ‚¬μ©μ λ΅κ·ΈμΈ μ•λ¦Ό, RabbitMQ

### β‘£ Short Polling (μ§§μ€ ν΄λ§)

ν΄λΌμ΄μ–ΈνΈκ°€ **μ£ΌκΈ°μ μΌλ΅** μ„λ²„μ— μƒνƒλ¥Ό ν™•μΈν•©λ‹λ‹¤.

```
λ§¤ 5μ΄λ§λ‹¤:
  ν΄λΌμ΄μ–ΈνΈ: "μƒ λ©”μ‹μ§€ μμ–΄?" β†’ μ„λ²„: "μ•„λ‹"
  ν΄λΌμ΄μ–ΈνΈ: "μƒ λ©”μ‹μ§€ μμ–΄?" β†’ μ„λ²„: "μ•„λ‹"
  ν΄λΌμ΄μ–ΈνΈ: "μƒ λ©”μ‹μ§€ μμ–΄?" β†’ μ„λ²„: "μ‘! μ—¬κΈ°"
```

**μ¥μ **: κµ¬ν„μ΄ κ°„λ‹¨, ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°μ„ λμ„ μ μμ
**λ‹¨μ **: λ„λ¬΄ λ§μ€ μ”μ²­, λ„¤νΈμ›ν¬ λ€μ—­ν­ λ‚­λΉ„
**μ‚¬μ© μμ‹**: YouTube λΉ„λ””μ¤ μ—…λ΅λ“ μ§„ν–‰ μƒνƒ ν™•μΈ

### β‘¤ Long Polling (κΈ΄ ν΄λ§)

ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ„λ²„κ°€ **μ‘λ‹µν•  μ¤€λΉ„κ°€ λ  λ•κΉμ§€ μ—°κ²°μ„ μ μ§€**ν•©λ‹λ‹¤.

```
ν΄λΌμ΄μ–ΈνΈ: "μƒ λ©”μ‹μ§€ μμ–΄?" β†’ μ„λ²„
μ„λ²„: (μƒ λ©”μ‹μ§€κ°€ μ¬ λ•κΉμ§€ λ€κΈ°... 30μ΄ λ™μ• μ‘λ‹µν•μ§€ μ•μ)
μ„λ²„: (μƒ λ©”μ‹μ§€ λ„μ°©!) β†’ "μ—¬κΈ° μƒ λ©”μ‹μ§€!"
ν΄λΌμ΄μ–ΈνΈ: (λ°”λ΅ λ‹¤μ‹ μ”μ²­)
```

**μ¥μ **: Short Pollingλ³΄λ‹¤ ν†µμ‹ λ‰ μ μ, κ±°μ μ‹¤μ‹κ°„
**λ‹¨μ **: μ™„μ „ν• μ‹¤μ‹κ°„μ€ μ•„λ‹, νƒ€μ„μ•„μ›ƒ μ²λ¦¬ ν•„μ”
**μ‚¬μ© μμ‹**: Kafkaμ—μ„ μ‚¬μ©

### β‘¥ Server-Sent Events (SSE)

μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ **λ‹¨λ°©ν–¥μΌλ΅** μ΄λ²¤νΈλ¥Ό λ³΄λ‚΄λ” λ°©μ‹μ…λ‹λ‹¤. HTTP κΈ°λ°μΌλ΅ λ™μ‘ν•©λ‹λ‹¤.

```
ν΄λΌμ΄μ–ΈνΈ: "μ΄λ²¤νΈ μ¤νΈλ¦Ό μ—°κ²°" β†’ μ„λ²„
μ„λ²„: β”€β”€ event: update β”€β”€ data: {"price": 50000} β”€β”€β–¶ ν΄λΌμ΄μ–ΈνΈ
μ„λ²„: β”€β”€ event: update β”€β”€ data: {"price": 50100} β”€β”€β–¶ ν΄λΌμ΄μ–ΈνΈ
(μ„λ²„κ°€ μ›ν•  λ•λ§λ‹¤ κ³„μ† λ³΄λƒ„, μ—°κ²°μ€ μ μ§€)
```

**μ¥μ **: HTTP κΈ°λ°μ΄λΌ κΈ°μ΅΄ μΈν”„λΌμ™€ νΈν™, μλ™ μ¬μ—°κ²° μ§€μ›
**λ‹¨μ **: λ‹¨λ°©ν–¥(μ„λ²„β†’ν΄λΌμ΄μ–ΈνΈ)λ§ κ°€λ¥, HTTP/1.1μ—μ„λ” μ—°κ²° 6κ° μ ν•
**μ‚¬μ© μμ‹**: μ‹¤μ‹κ°„ λ‰΄μ¤ ν”Όλ“, μ£Όμ‹ μ‹μ„Έ, μ•λ¦Ό

### β‘¦ Publish-Subscribe (Pub/Sub, λ°ν–‰-κµ¬λ…)

λ©”μ‹μ§€ λΈλ΅μ»¤λ¥Ό ν†µν•΄ λ°ν–‰μκ°€ λ³΄λ‚Έ λ©”μ‹μ§€λ¥Ό μ—¬λ¬ κµ¬λ…μμ—κ² μ „λ‹¬ν•©λ‹λ‹¤.

```
[λ°ν–‰μA] β”€β”€λ©”μ‹μ§€β”€β”€β–¶ [λ©”μ‹μ§€ λΈλ΅μ»¤] β”€β”€β–¶ [κµ¬λ…μ1]
[λ°ν–‰μB] β”€β”€λ©”μ‹μ§€β”€β”€β–¶ [  (Kafka λ“±)  ] β”€β”€β–¶ [κµ¬λ…μ2]
                                       β”€β”€β–¶ [κµ¬λ…μ3]
```

**μ¥μ **: μ—¬λ¬ μμ‹ μμ—κ² ν™•μ¥ κ°€λ¥, λ§μ΄ν¬λ΅μ„λΉ„μ¤μ— μ ν•©, λμ¨ν• κ²°ν•©
**λ‹¨μ **: λ©”μ‹μ§€ μ „λ‹¬ λ³΄μ¥ λ¬Έμ , λ³µμ΅λ„ μ¦κ°€
**μ‚¬μ© μμ‹**: λΉ„λ””μ¤ μ—…λ΅λ“ β†’ μ••μ¶•/λ³€ν™/μ•λ¦Ό μ„λΉ„μ¤κ°€ κ°κ° μ²λ¦¬

### β‘§ Multiplexing & Demultiplexing (λ‹¤μ¤‘ν™” & μ—­λ‹¤μ¤‘ν™”)

- **Multiplexing**: μ—¬λ¬ μ¤νΈλ¦Όμ„ ν•λ‚μ μ—°κ²°λ΅ ν•©μΉλ” κ²ƒ (μ: HTTP/2)
- **Demultiplexing**: ν•λ‚μ μ—°κ²°μ„ μ—¬λ¬ μ¤νΈλ¦ΌμΌλ΅ λ‚λ„λ” κ²ƒ

### β‘¨ Stateful vs Stateless

| | Stateful (μƒνƒ μ €μ¥) | Stateless (λ¬΄μƒνƒ) |
|---|---|---|
| **κ°λ…** | μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό λ©”λ¨λ¦¬μ— μ €μ¥ | ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ“  μ”μ²­μ— μƒνƒ μ •λ³΄λ¥Ό ν¬ν•¨ |
| **μμ‹** | TCP, gRPC | UDP, HTTP, JWT |
| **μ¥μ ** | λΉ λ¥Έ μ‘λ‹µ (μƒνƒ μ¬μ „μ†΅ λ¶ν•„μ”) | μ„λ²„ μ¬μ‹μ‘ν•΄λ„ μ›ν¬ν”λ΅μ° μ§€μ†, ν™•μ¥μ„± μ°μ |
| **λ‹¨μ ** | μ„λ²„ μ¥μ•  μ‹ μƒνƒ μ†μ‹¤ | μ”μ²­ ν¬κΈ° μ¦κ°€ |

### β‘© Sidecar Pattern (μ‚¬μ΄λ“μΉ΄ ν¨ν„΄)

κ° μ„λΉ„μ¤ μ†μ— **ν”„λ΅μ‹λ¥Ό λ°°μΉ**ν•μ—¬ λ³µμ΅ν• ν”„λ΅ν† μ½ μ²λ¦¬λ¥Ό λ€μ‹  λ‹΄λ‹Ήν•λ” ν¨ν„΄μ…λ‹λ‹¤.

```
[μ„λΉ„μ¤ A] β†β†’ [Sidecar ν”„λ΅μ‹] β†β†’ [Sidecar ν”„λ΅μ‹] β†β†’ [μ„λΉ„μ¤ B]
              (Envoy/Linkerd)         (Envoy/Linkerd)
```

**μ¥μ **: μ–Έμ–΄μ— λ…λ¦½μ (Polyglot), ν”„λ΅ν† μ½ μ—…κ·Έλ μ΄λ“ μ‰¬μ›€, μ¶”μ /λ¨λ‹ν„°λ§/λ³΄μ• κ°•ν™”
**λ‹¨μ **: λ³µμ΅λ„ μ¦κ°€, μ§€μ—° μ‹κ°„ μ¦κ°€ (μ¶”κ°€ ν™‰)
**μ‚¬μ© μμ‹**: Service Mesh β€” Linkerd, Istio, Envoy

### ν†µμ‹  ν¨ν„΄ μ„ νƒ κ°€μ΄λ“

| ν¨ν„΄ | μ‚¬μ© μ‹κΈ° |
|------|----------|
| Request-Response | μΌλ°μ μΈ API, λ‹¨μ μ”μ²­-μ‘λ‹µ |
| Push | μ‹¤μ‹κ°„ μ•λ¦Ό, ν΄λΌμ΄μ–ΈνΈκ°€ ν•­μƒ μ¨λΌμΈ |
| Short Polling | κ°„λ‹¨ν• μƒνƒ ν™•μΈ, μ£ΌκΈ°μ  μ—…λ°μ΄νΈ |
| Long Polling | μ„λ²„ Pushκ°€ μ• λμ§€λ§ μ‹¤μ‹κ°„μ„± ν•„μ” |
| SSE | μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ‹¤μ‹κ°„ μ΄λ²¤νΈ μ¤νΈλ¦Ό |
| Pub/Sub | λ§μ΄ν¬λ΅μ„λΉ„μ¤, μ—¬λ¬ μμ‹ μ |
| WebSocket | μ–‘λ°©ν–¥ μ‹¤μ‹κ°„ ν†µμ‹  |

---

## 14. λ°±μ—”λ“ μ‹¤ν–‰ ν¨ν„΄

### Process vs Thread

| | Process (ν”„λ΅μ„Έμ¤) | Thread (μ“°λ λ“) |
|---|---|---|
| **λ©”λ¨λ¦¬** | λ…λ¦½μ μΈ λ©”λ¨λ¦¬ κ³µκ°„ | λ¶€λ¨ ν”„λ΅μ„Έμ¤μ™€ λ©”λ¨λ¦¬ κ³µμ  |
| **μ‹λ³„μ** | PID | Thread ID |
| **κ²©λ¦¬** | μ™„μ „ κ²©λ¦¬ | Race Condition κ°€λ¥ |

### μ‹¤ν–‰ λ¨λΈ

#### 1. Single-Threaded Process
- ν•λ‚μ ν”„λ΅μ„Έμ¤, ν•λ‚μ μ“°λ λ“
- κ°„λ‹¨ν•¨ / μ: **Node.js**

#### 2. Multi-Process
- μ—¬λ¬ ν”„λ΅μ„Έμ¤, κ°κ° λ…λ¦½μ μΈ λ©”λ¨λ¦¬
- λ©€ν‹°μ½”μ–΄ ν™μ©, κ²©λ¦¬λμ–΄ μ•μ „
- μ: **NGINX, PostgreSQL**

#### 3. Multi-Threaded
- ν•λ‚μ ν”„λ΅μ„Έμ¤, μ—¬λ¬ μ“°λ λ“ (λ©”λ¨λ¦¬ κ³µμ )
- Race Condition κ°€λ¥ β†’ Lockκ³Ό Latch ν•„μ”
- μ: **Apache, Envoy**

> **μµμ  κ°μ**: κ²½ν— λ²•μΉ™ β€” μ½”μ–΄ κ°μ = ν”„λ΅μ„Έμ¤/μ“°λ λ“ κ°μ
> λ„λ¬΄ λ§μΌλ©΄ CPU μ»¨ν…μ¤νΈ μ¤μ„μΉ­ μ¤λ²„ν—¤λ“ μ¦κ°€

### SYN/Accept Queue (μ—°κ²° μλ¦½ νλ¦„)

```
ν΄λΌμ΄μ–ΈνΈ β†’ SYN β†’ [SYN Queue]
                       β†“ μ„λ²„κ°€ SYN/ACK μ „μ†΅
ν΄λΌμ΄μ–ΈνΈ β†’ ACK β†’ [Accept Queue]
                       β†“ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ accept() νΈμ¶
                    [νμΌ λ””μ¤ν¬λ¦½ν„° μƒμ„±]
```

### Receive / Send Buffer

- **Receive Buffer**: μ»¤λ„μ΄ μμ‹  λ°μ΄ν„°λ¥Ό μ„μ‹ μ €μ¥, μ•±μ΄ read() νΈμ¶ν•μ—¬ μ½μ
- **Send Buffer**: μ•±μ΄ send() νΈμ¶, μ»¤λ„μ΄ νμ— μ €μ¥ ν›„ μ „μ†΅

λ°±μ—”λ“κ°€ μ¶©λ¶„ν λΉ λ¥΄κ² μ½μ§€ λ»ν•λ©΄ Receive Queueκ°€ κ°€λ“ μ°¨κ³  ν΄λΌμ΄μ–ΈνΈ μ†λ„κ°€ μ €ν•λ©λ‹λ‹¤.

### Idempotency (λ©±λ“±μ„±)

λ™μΌν• μ”μ²­μ„ μ—¬λ¬ λ² λ³΄λ‚΄λ„ κ²°κ³Όκ°€ κ°™κ³ , λ°±μ—”λ“ μƒνƒμ— μ¤‘λ³µ μν–¥μ„ μ£Όμ§€ μ•λ” μ„±μ§μ…λ‹λ‹¤.

**κµ¬ν„ λ°©λ²•**: Request IDλ¥Ό μ‚¬μ©ν•μ—¬ μ΄λ―Έ μ²λ¦¬λ IDλ©΄ κ²°κ³Όλ§ λ°ν™

| HTTP λ©”μ„λ“ | λ©±λ“±μ„± |
|-----------|--------|
| GET | β… λ©±λ“±μ  (λΈλΌμ°μ €κ°€ μλ™ μ¬μ‹λ„) |
| POST | β λ©±λ“±μ μ΄μ§€ μ•μ (κµ¬ν„μΌλ΅ κ°€λ¥) |
| PUT / DELETE | β… λ©±λ“±μ  |

> **μ¤‘μ”**: κΈμµ μ‹μ¤ν…μ—μ„ λ§¤μ° μ¤‘μ” β€” μ¤‘λ³µ κ²°μ  λ°©μ§€

---

## 15. ν”„λ΅μ‹μ™€ λ΅λ“ λ°Έλ°μ„

### Forward Proxy vs Reverse Proxy

```
ν¬μ›λ“ ν”„λ΅μ‹:  [ν΄λΌμ΄μ–ΈνΈ] β†’ [ν”„λ΅μ‹] β†’ [μΈν„°λ„·] β†’ [μ„λ²„]
               (ν΄λΌμ΄μ–ΈνΈ IP μ¨κΉ€, μ ‘κ·Ό μ μ–΄)

λ¦¬λ²„μ¤ ν”„λ΅μ‹:  [ν΄λΌμ΄μ–ΈνΈ] β†’ [μΈν„°λ„·] β†’ [λ¦¬λ²„μ¤ ν”„λ΅μ‹] β†’ [μ„λ²„1, μ„λ²„2, ...]
               (μ„λ²„ IP μ¨κΉ€, λ΅λ“ λ°Έλ°μ‹±)
```

**λ€ν‘μ  λ„κµ¬**: Nginx, HAProxy, AWS ALB

### λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦

| μ•κ³ λ¦¬μ¦ | μ„¤λ… |
|----------|------|
| **λΌμ΄λ“ λ΅λΉ** | μμ„λ€λ΅ λμ•„κ°€λ©° λ¶„λ°° (1β†’2β†’3β†’1β†’...) |
| **κ°€μ¤‘ λΌμ΄λ“ λ΅λΉ** | μ„±λ¥ μΆ‹μ€ μ„λ²„μ— λ” λ§μ΄ λ¶„λ°° |
| **μµμ† μ—°κ²°** | ν„μ¬ μ—°κ²°μ΄ κ°€μ¥ μ μ€ μ„λ²„μ— λ¶„λ°° |
| **IP ν•΄μ‹** | ν΄λΌμ΄μ–ΈνΈ IP κΈ°λ°μΌλ΅ ν•­μƒ κ°™μ€ μ„λ²„ (Sticky Session) |
| **μµμ† μ‘λ‹µ μ‹κ°„** | μ‘λ‹µμ΄ κ°€μ¥ λΉ λ¥Έ μ„λ²„μ— λ¶„λ°° |

### Layer 4 vs Layer 7 λ΅λ“ λ°Έλ°μ„

| | L4 λ΅λ“ λ°Έλ°μ„ | L7 λ΅λ“ λ°Έλ°μ„ |
|---|---|---|
| **λ™μ‘ μμ¤€** | TCP/UDP (IP + ν¬νΈλ§ ν™•μΈ) | HTTP (URL, ν—¤λ”, μΏ ν‚¤ λ“± ν™•μΈ) |
| **μ†λ„** | λΉ λ¦„ (λ°μ΄ν„° λ‚΄μ© λ―Έν™•μΈ) | μ•½κ°„ λλ¦Ό |
| **μΊμ‹±** | β | β… |
| **λ§μ΄ν¬λ΅μ„λΉ„μ¤** | μ ν•μ  | β… μ ν•© |
| **μμ‹** | AWS NLB | AWS ALB, Nginx |

**L7 λ΅λ“ λ°Έλ°μ„ λΌμ°ν… μμ‹:**
```
/api/users/*   β†’ μ‚¬μ©μ μ„λΉ„μ¤ μ„λ²„
/api/orders/*  β†’ μ£Όλ¬Έ μ„λΉ„μ¤ μ„λ²„
/api/images/*  β†’ μ΄λ―Έμ§€ μ„λΉ„μ¤ μ„λ²„
```

---

## 16. μ •λ¦¬ & ν”„λ΅ν† μ½ λΉ„κµν‘

### μ „μ²΄ ν”„λ΅ν† μ½ μ¤νƒ νλ¦„

```
μ‚¬μ©μκ°€ https://example.com/api/data μ— μ ‘μ†ν•λ©΄:

1. DNS     β†’ example.comμ IP μ£Όμ†λ¥Ό μ•μ•„λƒ„
2. TCP     β†’ 3-Way Handshakeλ΅ μ—°κ²° μλ¦½
3. TLS     β†’ μ•”νΈν™” ν‘μƒ
4. HTTP    β†’ GET /api/data μ”μ²­ μ „μ†΅
5. μ„λ²„    β†’ μ”μ²­ μ²λ¦¬ ν›„ μ‘λ‹µ λ°ν™
6. TCP     β†’ λ°μ΄ν„°μ μμ„ λ³΄μ¥ λ° μ¬μ „μ†΅
7. TLS     β†’ μ‘λ‹µ λ°μ΄ν„° λ³µνΈν™”
8. λΈλΌμ°μ € β†’ λ°μ΄ν„°λ¥Ό ν™”λ©΄μ— ν‘μ‹
```

### ν”„λ΅ν† μ½ λΉ„κµν‘

| ν•­λ© | HTTP/1.1 | HTTP/2 | HTTP/3 | WebSocket | gRPC |
|------|----------|--------|--------|-----------|------|
| **μ „μ†΅ κ³„μΈµ** | TCP | TCP | QUIC(UDP) | TCP | HTTP/2(TCP) |
| **λ°μ΄ν„° ν•μ‹** | ν…μ¤νΈ | λ°”μ΄λ„λ¦¬ | λ°”μ΄λ„λ¦¬ | λ°”μ΄λ„λ¦¬/ν…μ¤νΈ | Protobuf(λ°”μ΄λ„λ¦¬) |
| **λ©€ν‹°ν”λ ‰μ‹±** | β | β… | β… | N/A | β… |
| **μ„λ²„ ν‘Έμ‹** | β | β… | β… | β… (μ–‘λ°©ν–¥) | β… (μ¤νΈλ¦¬λ°) |
| **HOL Blocking** | μμ | TCP μμ¤€ μμ | μ—†μ | μμ | TCP μμ¤€ μμ |
| **ν—¤λ” μ••μ¶•** | β | HPACK | QPACK | β | HPACK |
| **μ£Ό μ‚¬μ©μ²** | μΌλ° μ›Ή | μ›Ή, API | λ¨λ°”μΌ, μ›Ή | μ‹¤μ‹κ°„ ν†µμ‹  | λ§μ΄ν¬λ΅μ„λΉ„μ¤ |

### ν”„λ΅ν† μ½ μ„ νƒ κ°€μ΄λ“

```
"μΌλ°μ μΈ μ›Ή APIλ¥Ό λ§λ“ λ‹¤"               β†’ HTTP/1.1 λλ” HTTP/2 + REST
"κ³ μ„±λ¥ λ§μ΄ν¬λ΅μ„λΉ„μ¤ ν†µμ‹ μ΄ ν•„μ”ν•λ‹¤"    β†’ gRPC
"μ‹¤μ‹κ°„ μ–‘λ°©ν–¥ ν†µμ‹ μ΄ ν•„μ”ν•λ‹¤"            β†’ WebSocket
"μ„λ²„β†’ν΄λΌμ΄μ–ΈνΈ λ‹¨λ°©ν–¥ μ•λ¦Όμ΄ ν•„μ”ν•λ‹¤"   β†’ SSE
"λ¨λ°”μΌ ν™κ²½μ—μ„ λΉ λ¥Έ ν†µμ‹ μ΄ ν•„μ”ν•λ‹¤"     β†’ HTTP/3 (QUIC)
"P2P μ‹¤μ‹κ°„ μμ„±/μμƒ ν†µμ‹ μ΄ ν•„μ”ν•λ‹¤"    β†’ WebRTC
"μ†λ„ μ¤‘μ”, μΌλ¶€ ν¨ν‚· μ†μ‹¤ ν—μ©"          β†’ UDP
```

### ν•µμ‹¬ ν‚¤μ›λ“ μ”μ•½

| ν‚¤μ›λ“ | ν•μ¤„ μ„¤λ… |
|--------|----------|
| **TCP** | μ‹ λΆ°μ„± μλ” μ „μ†΅, μμ„ λ³΄μ¥ |
| **UDP** | λΉ„μ‹ λΆ°μ„±, μμ„ λ¬΄κ΄€, λΉ λ¦„ |
| **TLS** | λ°μ΄ν„° μ•”νΈν™”, HTTPSμ S |
| **HTTP/2** | λ©€ν‹°ν”λ ‰μ‹±, ν—¤λ” μ••μ¶•, λ°”μ΄λ„λ¦¬ |
| **HTTP/3** | QUIC κΈ°λ°, TCP HOL Blocking ν•΄κ²° |
| **WebSocket** | μ–‘λ°©ν–¥ μ‹¤μ‹κ°„ ν†µμ‹  |
| **gRPC** | κ³ μ„±λ¥ RPC, Protobuf, HTTP/2 κΈ°λ° |
| **SSE** | μ„λ²„β†’ν΄λΌμ΄μ–ΈνΈ λ‹¨λ°©ν–¥ μ¤νΈλ¦¬λ° |
| **WebRTC** | P2P μ‹¤μ‹κ°„ μμ„±/μμƒ |
| **Pub/Sub** | μ΄λ²¤νΈ κΈ°λ°, λμ¨ν• κ²°ν•© |
| **λ¦¬λ²„μ¤ ν”„λ΅μ‹** | μ„λ²„ μ•λ‹¨μ—μ„ λ€λ¦¬, λ΅λ“λ°Έλ°μ‹± |
| **λ©±λ“±μ„±** | λ™μΌ μ”μ²­ μ—¬λ¬ λ² λ³΄λ‚΄λ„ κ²°κ³Ό λ™μΌ |
| **HOL Blocking** | μ•μ λ°μ΄ν„°κ°€ λ§‰νλ©΄ λ’¤λ„ λ§‰νλ” ν„μƒ |
| **Sidecar** | μ„λΉ„μ¤ μ† ν”„λ΅μ‹, Service Mesh κµ¬μ„± μ”μ† |

---

## 17. ν•™μµ ν

1. **κΈ°μ΄λ¶€ν„° μ°¨κ·Όμ°¨κ·Ό**: OSI λ¨λΈ, TCP/IP λ¨λΈλ¶€ν„° μ΄ν•΄ν• λ’¤ ν”„λ΅ν† μ½μ„ κ³µλ¶€ν•μ„Έμ”.

2. **μ‹¤μµμ΄ μ¤‘μ”**: κ° ν†µμ‹  ν¨ν„΄κ³Ό ν”„λ΅ν† μ½μ„ μ§μ ‘ κµ¬ν„ν•΄λ³΄μ„Έμ”. curl, Wireshark, Postman λ“±μ λ„κµ¬λ¥Ό ν™μ©ν•μ„Έμ”.

3. **Trade-off μ΄ν•΄**: κ° λ°©λ²•μ μ¥λ‹¨μ μ„ μ΄ν•΄ν•κ³  μƒν™©μ— λ§κ² μ„ νƒν•μ„Έμ”. ν•­μƒ λ³µμ΅ν• κ²ƒμ΄ μΆ‹μ€ κ²ƒμ€ μ•„λ‹™λ‹λ‹¤.

4. **μ„±λ¥ vs λ³µμ΅λ„**: λ‹¨μν• HTTP/1.1μ΄ λ§μ€ κ²½μ°μ— μ¶©λ¶„ν•©λ‹λ‹¤. μ„±λ¥μ΄ ν•„μ”ν•  λ• HTTP/2, gRPCλ΅ μ¬λΌκ°€μ„Έμ”.

5. **μ‹¤λ¬΄ μ‚¬λ΅€ ν•™μµ**: μ‹¤μ  μ„λΉ„μ¤λ“¤μ΄ μ–΄λ–¤ λ°©μ‹μ„ μ‚¬μ©ν•λ”μ§€ μ΅°μ‚¬ν•΄λ³΄μ„Έμ”. Netflixλ” gRPC, Slackμ€ WebSocket, YouTubeλ” HTTP/2 λ“±.

---

## 18. μ¶”κ°€ ν•™μµ μλ£

- **TCP/IP μƒμ„Έ**: RFC 793 (TCP), RFC 768 (UDP)
- **HTTP/2, HTTP/3**: RFC 7540 (HTTP/2), RFC 9114 (HTTP/3)
- **WebRTC**: MDN Web Docs β€” WebRTC API
- **gRPC**: [grpc.io](https://grpc.io) κ³µμ‹ λ¬Έμ„
- **λ΅λ“ λ°Έλ°μ‹±**: NGINX, HAProxy κ³µμ‹ λ¬Έμ„
- **Service Mesh**: Istio, Linkerd κ³µμ‹ λ¬Έμ„
- **Kafka (Pub/Sub)**: [kafka.apache.org](https://kafka.apache.org)

---

